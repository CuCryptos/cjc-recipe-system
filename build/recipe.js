(()=>{"use strict";var e={338(e,t,c){var a=c(795);t.H=a.createRoot,a.hydrateRoot},795(e){e.exports=window.ReactDOM}},t={};const c=window.React;var a=function c(a){var n=t[a];if(void 0!==n)return n.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,c),r.exports}(338);function n(e){return e?/^\d+\s*(hour|minute|min|hr)/i.test(e)?e:function(e,t={}){const{format:c="long"}=t;if(!e||e<=0)return"";const a=Math.floor(e/60),n=e%60,r=[];return"short"===c?(a>0&&r.push(`${a}h`),n>0&&r.push(`${n}m`)):(a>0&&r.push(`${a} ${1===a?"hour":"hours"}`),n>0&&r.push(`${n} ${1===n?"minute":"minutes"}`)),r.join(" ")}(function(e){if(!e||"string"!=typeof e)return 0;if((e=e.trim().toLowerCase()).startsWith("pt")){let t=0;const c=e.match(/(\d+)h/),a=e.match(/(\d+)m/);return c&&(t+=60*parseInt(c[1],10)),a&&(t+=parseInt(a[1],10)),t}let t=0;const c=e.match(/(\d+)\s*(?:hour|hr|h)\s*/i);c&&(t+=60*parseInt(c[1],10));const a=e.match(/(\d+)\s*(?:minute|min|m)\s*/i);if(a&&(t+=parseInt(a[1],10)),0===t){const t=parseInt(e,10);if(!isNaN(t))return t}return t}(e)):""}function r({title:e,description:t,imageUrl:a,prepTime:r,cookTime:i,totalTime:l,yield:s,category:o,cuisine:m}){const u=n(r),d=n(i),p=n(l);return(0,c.createElement)("header",{className:"cjc-recipe-header"},a&&(0,c.createElement)("div",{className:"cjc-recipe-image"},(0,c.createElement)("img",{src:a,alt:e,loading:"lazy"})),(0,c.createElement)("div",{className:"cjc-recipe-header-content"},(0,c.createElement)("h2",{className:"cjc-recipe-title"},e),t&&(0,c.createElement)("div",{className:"cjc-recipe-description",dangerouslySetInnerHTML:{__html:t}}),(0,c.createElement)("div",{className:"cjc-recipe-meta"},u&&(0,c.createElement)("div",{className:"cjc-recipe-meta-item"},(0,c.createElement)("span",{className:"cjc-recipe-meta-icon","aria-hidden":"true"},(0,c.createElement)("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor"},(0,c.createElement)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"}))),(0,c.createElement)("span",{className:"cjc-recipe-meta-label"},"Prep"),(0,c.createElement)("span",{className:"cjc-recipe-meta-value"},u)),d&&(0,c.createElement)("div",{className:"cjc-recipe-meta-item"},(0,c.createElement)("span",{className:"cjc-recipe-meta-icon","aria-hidden":"true"},(0,c.createElement)("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor"},(0,c.createElement)("path",{d:"M8.1 13.34l2.83-2.83L3.91 3.5a4.008 4.008 0 000 5.66l4.19 4.18zm6.78-1.81c1.53.71 3.68.21 5.27-1.38 1.91-1.91 2.28-4.65.81-6.12-1.46-1.46-4.2-1.1-6.12.81-1.59 1.59-2.09 3.74-1.38 5.27L3.7 19.87l1.41 1.41L12 14.41l6.88 6.88 1.41-1.41L13.41 13l1.47-1.47z"}))),(0,c.createElement)("span",{className:"cjc-recipe-meta-label"},"Cook"),(0,c.createElement)("span",{className:"cjc-recipe-meta-value"},d)),p&&(0,c.createElement)("div",{className:"cjc-recipe-meta-item cjc-recipe-meta-total"},(0,c.createElement)("span",{className:"cjc-recipe-meta-icon","aria-hidden":"true"},(0,c.createElement)("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor"},(0,c.createElement)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"}))),(0,c.createElement)("span",{className:"cjc-recipe-meta-label"},"Total"),(0,c.createElement)("span",{className:"cjc-recipe-meta-value"},p)),s&&(0,c.createElement)("div",{className:"cjc-recipe-meta-item"},(0,c.createElement)("span",{className:"cjc-recipe-meta-icon","aria-hidden":"true"},(0,c.createElement)("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor"},(0,c.createElement)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"}))),(0,c.createElement)("span",{className:"cjc-recipe-meta-label"},"Yield"),(0,c.createElement)("span",{className:"cjc-recipe-meta-value"},s))),(o||m)&&(0,c.createElement)("div",{className:"cjc-recipe-tags"},o&&(0,c.createElement)("span",{className:"cjc-recipe-tag cjc-recipe-tag-category"},o),m&&(0,c.createElement)("span",{className:"cjc-recipe-tag cjc-recipe-tag-cuisine"},m))))}function i({ingredients:e=[],checklist:t,isScaled:a}){return e&&0!==e.length?(0,c.createElement)("section",{className:"cjc-recipe-ingredients"},(0,c.createElement)("h3",{className:"cjc-recipe-section-title"},"Ingredients"),a&&(0,c.createElement)("div",{className:"cjc-recipe-scaled-notice"},(0,c.createElement)("span",{className:"cjc-recipe-scaled-icon","aria-hidden":"true"},(0,c.createElement)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor"},(0,c.createElement)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 3c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm7 13H5v-.23c0-.62.28-1.2.76-1.58C7.47 15.82 9.64 15 12 15s4.53.82 6.24 2.19c.48.38.76.97.76 1.58V19z"}))),"Quantities adjusted for your serving size"),e.map((e,n)=>(0,c.createElement)("div",{key:n,className:"cjc-recipe-ingredient-group"},e.title&&(0,c.createElement)("h4",{className:"cjc-recipe-ingredient-group-title"},e.title),(0,c.createElement)("ul",{className:"cjc-recipe-ingredient-list"},e.items?.map((e,r)=>{const i=((e,t)=>`ingredient-${e}-${t}`)(n,r),l=t.isChecked(i),s=a&&e.scaledAmount?e.scaledAmount:e.amount;return(0,c.createElement)("li",{key:r,className:"cjc-recipe-ingredient-item "+(l?"is-checked":"")},(0,c.createElement)("label",{className:"cjc-recipe-ingredient-label"},(0,c.createElement)("input",{type:"checkbox",checked:l,onChange:()=>t.toggleItem(i),className:"cjc-recipe-ingredient-checkbox"}),(0,c.createElement)("span",{className:"cjc-recipe-ingredient-checkbox-custom","aria-hidden":"true"},l&&(0,c.createElement)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor"},(0,c.createElement)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}))),(0,c.createElement)("span",{className:"cjc-recipe-ingredient-text"},s&&(0,c.createElement)("span",{className:"cjc-recipe-ingredient-amount "+(a?"is-scaled":"")},s),e.unit&&(0,c.createElement)("span",{className:"cjc-recipe-ingredient-unit"},e.unit),(0,c.createElement)("span",{className:"cjc-recipe-ingredient-name"},e.name),e.notes&&(0,c.createElement)("span",{className:"cjc-recipe-ingredient-notes"},", ",e.notes))))})))),Object.keys(t.checkedItems||{}).length>0&&(0,c.createElement)("button",{type:"button",onClick:t.clearAll,className:"cjc-recipe-clear-checklist"},"Clear all checked items")):null}function l({instructions:e=[]}){if(!e||0===e.length)return null;let t=0;return(0,c.createElement)("section",{className:"cjc-recipe-instructions"},(0,c.createElement)("h3",{className:"cjc-recipe-section-title"},"Instructions"),e.map((e,a)=>(0,c.createElement)("div",{key:a,className:"cjc-recipe-instruction-group"},e.title&&(0,c.createElement)("h4",{className:"cjc-recipe-instruction-group-title"},e.title),(0,c.createElement)("ol",{className:"cjc-recipe-instruction-list",start:t+1},e.steps?.map((e,a)=>(t++,(0,c.createElement)("li",{key:a,className:"cjc-recipe-instruction-step"},(0,c.createElement)("span",{className:"cjc-recipe-step-number","aria-hidden":"true"},t),(0,c.createElement)("div",{className:"cjc-recipe-step-text",dangerouslySetInnerHTML:{__html:e.text}}))))))))}const s=[{key:"serving_size",label:"Serving Size"},{key:"calories",label:"Calories"},{key:"fat",label:"Total Fat"},{key:"saturated_fat",label:"Saturated Fat",indent:!0},{key:"unsaturated_fat",label:"Unsaturated Fat",indent:!0},{key:"trans_fat",label:"Trans Fat",indent:!0},{key:"cholesterol",label:"Cholesterol"},{key:"sodium",label:"Sodium"},{key:"carbohydrates",label:"Total Carbohydrates"},{key:"fiber",label:"Dietary Fiber",indent:!0},{key:"sugar",label:"Sugars",indent:!0},{key:"protein",label:"Protein"}];function o({nutrition:e={}}){return s.some(t=>e[t.key])?(0,c.createElement)("section",{className:"cjc-recipe-nutrition"},(0,c.createElement)("h3",{className:"cjc-recipe-section-title"},"Nutrition Facts"),(0,c.createElement)("p",{className:"cjc-recipe-nutrition-note"},"Per serving"),(0,c.createElement)("dl",{className:"cjc-recipe-nutrition-list"},s.map(t=>{const a=e[t.key];return a?(0,c.createElement)("div",{key:t.key,className:"cjc-recipe-nutrition-item "+(t.indent?"is-indented":"")},(0,c.createElement)("dt",{className:"cjc-recipe-nutrition-label"},t.label),(0,c.createElement)("dd",{className:"cjc-recipe-nutrition-value"},a)):null})),(0,c.createElement)("p",{className:"cjc-recipe-nutrition-disclaimer"},"* Percent Daily Values are based on a 2,000 calorie diet.")):null}function m({onPrint:e,onToggleCookMode:t,onToggleNutrition:a,showNutrition:n,scaling:r}){const[i,l]=(0,c.useState)(!1);return(0,c.createElement)("div",{className:"cjc-recipe-actions"},(0,c.createElement)("div",{className:"cjc-recipe-scaling"},(0,c.createElement)("button",{type:"button",className:"cjc-recipe-action-btn cjc-recipe-scale-toggle "+(i?"is-active":""),onClick:()=>l(!i),"aria-expanded":i},(0,c.createElement)("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor","aria-hidden":"true"},(0,c.createElement)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 3c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm7 13H5v-.23c0-.62.28-1.2.76-1.58C7.47 15.82 9.64 15 12 15s4.53.82 6.24 2.19c.48.38.76.97.76 1.58V19z"})),(0,c.createElement)("span",null,r.currentServings," ",1===r.currentServings?"serving":"servings"),r.isScaled&&(0,c.createElement)("span",{className:"cjc-recipe-scaled-badge"},"Scaled")),i&&(0,c.createElement)("div",{className:"cjc-recipe-scaling-panel"},(0,c.createElement)("div",{className:"cjc-recipe-scaling-controls"},(0,c.createElement)("button",{type:"button",className:"cjc-recipe-scaling-btn",onClick:r.decreaseServings,disabled:r.currentServings<=1,"aria-label":"Decrease servings"},"-"),(0,c.createElement)("input",{type:"number",className:"cjc-recipe-scaling-input",value:r.currentServings,onChange:e=>r.setServings(e.target.value),min:"1",max:"999","aria-label":"Number of servings"}),(0,c.createElement)("button",{type:"button",className:"cjc-recipe-scaling-btn",onClick:r.increaseServings,disabled:r.currentServings>=999,"aria-label":"Increase servings"},"+")),(0,c.createElement)("div",{className:"cjc-recipe-scaling-presets"},r.presets.map(e=>(0,c.createElement)("button",{key:e.label,type:"button",className:"cjc-recipe-preset-btn "+(r.currentServings===e.servings?"is-active":""),onClick:()=>r.setServings(e.servings)},e.label))),r.isScaled&&(0,c.createElement)("button",{type:"button",className:"cjc-recipe-reset-btn",onClick:r.resetServings},"Reset to original (",r.baseServings,")"))),(0,c.createElement)("div",{className:"cjc-recipe-action-buttons"},(0,c.createElement)("button",{type:"button",className:"cjc-recipe-action-btn",onClick:e,"aria-label":"Print recipe"},(0,c.createElement)("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor","aria-hidden":"true"},(0,c.createElement)("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"})),(0,c.createElement)("span",null,"Print")),a&&(0,c.createElement)("button",{type:"button",className:"cjc-recipe-action-btn "+(n?"is-active":""),onClick:a,"aria-expanded":n,"aria-label":"Toggle nutrition facts"},(0,c.createElement)("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor","aria-hidden":"true"},(0,c.createElement)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"})),(0,c.createElement)("span",null,"Nutrition")),(0,c.createElement)("button",{type:"button",className:"cjc-recipe-action-btn cjc-recipe-cook-mode-btn",onClick:t,"aria-label":"Enter cook mode"},(0,c.createElement)("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor","aria-hidden":"true"},(0,c.createElement)("path",{d:"M8.1 13.34l2.83-2.83L3.91 3.5a4.008 4.008 0 000 5.66l4.19 4.18zm6.78-1.81c1.53.71 3.68.21 5.27-1.38 1.91-1.91 2.28-4.65.81-6.12-1.46-1.46-4.2-1.1-6.12.81-1.59 1.59-2.09 3.74-1.38 5.27L3.7 19.87l1.41 1.41L12 14.41l6.88 6.88 1.41-1.41L13.41 13l1.47-1.47z"})),(0,c.createElement)("span",null,"Cook Mode"))))}function u({title:e,instructions:t=[],onClose:a}){const n=t.flatMap((e,t)=>(e.steps||[]).map((c,a)=>({...c,groupTitle:e.title,groupIndex:t,stepIndex:a}))),[r,i]=(0,c.useState)(0),l=n.length,s=(0,c.useCallback)(e=>{switch(e.key){case"ArrowRight":case" ":e.preventDefault(),i(e=>Math.min(e+1,l-1));break;case"ArrowLeft":e.preventDefault(),i(e=>Math.max(e-1,0));break;case"Escape":a();break;case"Home":e.preventDefault(),i(0);break;case"End":e.preventDefault(),i(l-1)}},[l,a]);if((0,c.useEffect)(()=>(document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)),[s]),(0,c.useEffect)(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}),[]),(0,c.useEffect)(()=>{let e=null;return(async()=>{if("wakeLock"in navigator)try{e=await navigator.wakeLock.request("screen")}catch(e){console.log("Wake Lock error:",e)}})(),()=>{e&&e.release()}},[]),0===l)return null;const o=n[r],m=(r+1)/l*100;return(0,c.createElement)("div",{className:"cjc-recipe-cook-mode",role:"dialog","aria-modal":"true","aria-label":"Cook mode"},(0,c.createElement)("header",{className:"cjc-cook-mode-header"},(0,c.createElement)("div",{className:"cjc-cook-mode-title"},(0,c.createElement)("h2",null,e),o.groupTitle&&(0,c.createElement)("span",{className:"cjc-cook-mode-section"},o.groupTitle)),(0,c.createElement)("button",{type:"button",className:"cjc-cook-mode-close",onClick:a,"aria-label":"Exit cook mode"},(0,c.createElement)("svg",{viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor"},(0,c.createElement)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})))),(0,c.createElement)("div",{className:"cjc-cook-mode-progress"},(0,c.createElement)("div",{className:"cjc-cook-mode-progress-bar",style:{width:`${m}%`},role:"progressbar","aria-valuenow":r+1,"aria-valuemin":"1","aria-valuemax":l})),(0,c.createElement)("main",{className:"cjc-cook-mode-content"},(0,c.createElement)("div",{className:"cjc-cook-mode-step-indicator"},"Step ",r+1," of ",l),(0,c.createElement)("div",{className:"cjc-cook-mode-step-text",dangerouslySetInnerHTML:{__html:o.text}})),(0,c.createElement)("footer",{className:"cjc-cook-mode-nav"},(0,c.createElement)("button",{type:"button",className:"cjc-cook-mode-nav-btn cjc-cook-mode-prev",onClick:()=>i(e=>Math.max(e-1,0)),disabled:0===r,"aria-label":"Previous step"},(0,c.createElement)("svg",{viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor"},(0,c.createElement)("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),(0,c.createElement)("span",null,"Previous")),(0,c.createElement)("div",{className:"cjc-cook-mode-steps"},n.map((e,t)=>(0,c.createElement)("button",{key:t,type:"button",className:`cjc-cook-mode-step-dot ${t===r?"is-current":""} ${t<r?"is-completed":""}`,onClick:()=>i(t),"aria-label":`Go to step ${t+1}`,"aria-current":t===r?"step":void 0}))),(0,c.createElement)("button",{type:"button",className:"cjc-cook-mode-nav-btn cjc-cook-mode-next",onClick:()=>i(e=>Math.min(e+1,l-1)),disabled:r===l-1,"aria-label":"Next step"},(0,c.createElement)("span",null,"Next"),(0,c.createElement)("svg",{viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor"},(0,c.createElement)("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})))),(0,c.createElement)("div",{className:"cjc-cook-mode-hints"},(0,c.createElement)("span",null,(0,c.createElement)("kbd",null,"←")," Previous"),(0,c.createElement)("span",null,(0,c.createElement)("kbd",null,"→")," / ",(0,c.createElement)("kbd",null,"Space")," Next"),(0,c.createElement)("span",null,(0,c.createElement)("kbd",null,"Esc")," Exit")))}const d={"1/8":.125,"1/4":.25,"1/3":.333,"3/8":.375,"1/2":.5,"5/8":.625,"2/3":.667,"3/4":.75,"7/8":.875},p={"¼":.25,"½":.5,"¾":.75,"⅓":.333,"⅔":.667,"⅛":.125,"⅜":.375,"⅝":.625,"⅞":.875};function g(e){if(!e||"string"!=typeof e)return 0;if(!(e=e.trim()))return 0;if(e.includes("-")){const t=e.split("-").map(e=>g(e.trim()));if(2===t.length&&t[0]>0&&t[1]>0)return(t[0]+t[1])/2}for(const[t,c]of Object.entries(p))if(e.includes(t)){const a=e.replace(t,"").trim();return(a?parseFloat(a):0)+c}const t=e.match(/^(\d+)\s+(\d+)\/(\d+)$/);if(t)return parseInt(t[1],10)+parseInt(t[2],10)/parseInt(t[3],10);const c=e.match(/^(\d+)\/(\d+)$/);if(c)return parseInt(c[1],10)/parseInt(c[2],10);const a=parseFloat(e);return isNaN(a)?0:a}function h(e,t){if(!e||1===t)return e;const c=g(e);return 0===c?e:function(e,t={}){const{useFractions:c=!0,precision:a=2}=t;if(0===e)return"";if(!c)return parseFloat(e.toFixed(a)).toString();const n=Math.floor(e),r=e-n;let i="",l=1;for(const[e,t]of Object.entries(d)){const c=Math.abs(r-t);c<l&&c<.05&&(l=c,i=e)}return r<.05?n>0?n.toString():"":r>.95?(n+1).toString():i?n>0?`${n} ${i}`:i:parseFloat(e.toFixed(a)).toString()}(c*t)}function E({recipeId:e,data:t}){const[a,n]=(0,c.useState)(!1),[s,d]=(0,c.useState)(!1),p=function(e=4,t=[]){const[a,n]=(0,c.useState)(e),r=(0,c.useMemo)(()=>e&&0!==e?a/e:1,[a,e]),i=(0,c.useCallback)(e=>h(e,r),[r]),l=(0,c.useMemo)(()=>1===r?t:t.map(e=>({...e,items:e.items?.map(e=>({...e,scaledAmount:h(e.amount,r)}))||[]})),[t,r]),s=(0,c.useMemo)(()=>e?[{label:"0.5x",servings:Math.max(1,Math.round(.5*e))},{label:"1x",servings:e},{label:"2x",servings:2*e},{label:"3x",servings:3*e}]:[],[e]),o=(0,c.useCallback)(e=>{const t=parseInt(e,10);isNaN(t)||t<1?n(1):n(t>999?999:t)},[]),m=(0,c.useCallback)(()=>{n(e=>Math.min(e+1,999))},[]),u=(0,c.useCallback)(()=>{n(e=>Math.max(e-1,1))},[]),d=(0,c.useCallback)(()=>{n(e)},[e]);return{currentServings:a,baseServings:e,multiplier:r,setServings:o,increaseServings:m,decreaseServings:u,resetServings:d,scaleAmount:i,scaledIngredients:l,presets:s,isScaled:1!==r}}(t.yield_number||4,t.ingredients||[]),g=function(e){const t=`cjc-recipe-checklist-${e}`,[a,n]=function(e,t){const[a,n]=(0,c.useState)(()=>{if("undefined"==typeof window)return t;try{const c=window.localStorage.getItem(e);return c?JSON.parse(c):t}catch(c){return console.warn(`Error reading localStorage key "${e}":`,c),t}});(0,c.useEffect)(()=>{if("undefined"!=typeof window)try{void 0===a?window.localStorage.removeItem(e):window.localStorage.setItem(e,JSON.stringify(a))}catch(t){console.warn(`Error setting localStorage key "${e}":`,t)}},[e,a]);const r=(0,c.useCallback)(e=>{n(t=>e instanceof Function?e(t):e)},[]),i=(0,c.useCallback)(()=>{n(void 0),"undefined"!=typeof window&&window.localStorage.removeItem(e)},[e]);return[a,r,i]}(t,{}),r=(0,c.useCallback)(e=>{n(t=>({...t,[e]:!t[e]}))},[n]),i=(0,c.useCallback)(()=>{n({})},[n]),l=(0,c.useCallback)(e=>!!a[e],[a]);return{checkedItems:a,toggleItem:r,clearAll:i,isChecked:l}}(e),E=()=>{n(e=>!e)},v=t.nutrition&&Object.values(t.nutrition).some(e=>e);return(0,c.createElement)("article",{className:"cjc-recipe-card","data-recipe-id":e},(0,c.createElement)(r,{title:t.title,description:t.description,imageUrl:t.image_url,prepTime:t.prep_time,cookTime:t.cook_time,totalTime:t.total_time,yield:t.yield,category:t.category,cuisine:t.cuisine}),(0,c.createElement)(m,{onPrint:()=>{window.print()},onToggleCookMode:E,onToggleNutrition:v?()=>{d(e=>!e)}:null,showNutrition:s,scaling:p}),v&&s&&(0,c.createElement)(o,{nutrition:t.nutrition}),(0,c.createElement)(i,{ingredients:p.scaledIngredients,checklist:g,isScaled:p.isScaled}),(0,c.createElement)(l,{instructions:t.instructions||[]}),t.notes&&(0,c.createElement)("div",{className:"cjc-recipe-notes"},(0,c.createElement)("h3",{className:"cjc-recipe-section-title"},"Notes"),(0,c.createElement)("div",{className:"cjc-recipe-notes-content",dangerouslySetInnerHTML:{__html:t.notes}})),a&&(0,c.createElement)(u,{title:t.title,instructions:t.instructions||[],onClose:E}))}function v(){document.querySelectorAll(".cjc-recipe-card-container").forEach(e=>{const t=e.dataset.recipeId;if(!t)return;const n=document.getElementById(`cjc-recipe-data-${t}`);if(!n)return void console.warn(`Recipe data not found for recipe ${t}`);let r;try{r=JSON.parse(n.textContent)}catch(e){return void console.error(`Failed to parse recipe data for recipe ${t}:`,e)}const i=e.querySelector(".cjc-recipe-noscript");i&&i.remove(),(0,a.H)(e).render((0,c.createElement)(E,{recipeId:parseInt(t,10),data:r}))})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",v):v()})();